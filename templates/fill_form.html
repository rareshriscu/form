{% extends "base.html" %}

{% block title %}Completare {{ form_data.form_name }}{% endblock %}
{% block header %}Completare Formular: {{ form_data.form_name }}{% endblock %}

{% block content %}
<div class="card">
    <form method="POST" action="{{ url_for('submit_form', form_name=form_data.form_name) }}">
        {% for field in form_data.fields %}
            {% if field is mapping %}
                {% set field_name = field.name %}
                {% set field_type = field.type %}
                {% set required = field.required %}
            {% else %}
                {% set field_name = field %}
                {% set field_type = 'text' %}
                {% set required = false %}
            {% endif %}
            
            <div class="form-group">
                <label for="{{ field_name }}">
                    <i class="fas fa-{{ 'envelope' if field_type == 'email' else 'calculator' if field_type == 'number' else 'calendar' if field_type == 'date' else 'align-left' if field_type == 'textarea' else 'font' }}"></i>
                    {{ field_name }}
                    {% if required %}<span style="color: red;">*</span>{% endif %}
                </label>
                
                {% if field_type == 'textarea' %}
                    <textarea name="{{ field_name }}" id="{{ field_name }}" class="form-control" 
                              rows="4" placeholder="Introduceți {{ field_name|lower }}"
                              {% if required %}required{% endif %}></textarea>
                {% else %}
                    <input type="{{ field_type }}" name="{{ field_name }}" id="{{ field_name }}" 
                           class="form-control" placeholder="Introduceți {{ field_name|lower }}"
                           {% if required %}required{% endif %}>
                {% endif %}
            </div>
        {% endfor %}
        
        <div class="nav-links">
            <button type="submit" class="btn btn-success">
                <i class="fas fa-paper-plane"></i> Trimite Formular
            </button>
            <a href="{{ url_for('fill_form') }}" class="btn btn-warning">
                <i class="fas fa-arrow-left"></i> Înapoi
            </a>
        </div>
    </form>
</div>
{% endblock %}